{"version":3,"sources":["components/AdditionalInfo/AdditionalInfo.module.css","components/MovieDetails/MovieDetails.module.css","components/Button/Button.module.css","components/AdditionalInfo/AdditionalInfo.js","components/MovieDetails/MovieDetails.js","components/Button/Button.js","pages/MovieDetailsPage.js","components/notify.js","services/themoviedb-api.js","images/poster_default.jpg"],"names":["module","exports","AdditionalInfo","movieInfo","location","to","pathname","id","state","from","className","s","link","activeClassName","activeLink","MovieDetails","poster","poster_path","poster_default","movieDetails","src","alt","img","width","original_title","release_date","slice","popularity","toFixed","overview","genres","map","genre","name","Button","onClick","type","label","Cast","lazy","Reviews","MoviesDetailsPage","useRouteMatch","url","path","useState","setMovieInfo","cast","setCast","reviews","setReviews","history","useHistory","useLocation","params","useParams","useEffect","movieShelfAPI","movieId","then","catch","err","notifyError","massage","push","fallback","Loader","exact","txt","error","text","delay","modules","Map","defaultModules","PNotifyMobile","swipeDismiss","defaults","styling","icons","sticker","animateSpeed","shadow","BASE_URL","API_KEY","END_POINTS","GET_TRENDING","SEARCH_MOVIES","GET_MOVIE_DETAILS","fetchWithErrorHandling","a","config","axios","get","result","data","message","fetchMovies","results","fetchMoviesByQuery","query","fetchMovieById","fetchMovieByActors","fetchMovieByReviews"],"mappings":"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","file":"static/js/Movie Details Page.994c7807.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AdditionalInfo_link__2oHT5\",\"activeLink\":\"AdditionalInfo_activeLink__2mD4S AdditionalInfo_link__2oHT5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetails\":\"MovieDetails_movieDetails__3xKGM\",\"movieInfo\":\"MovieDetails_movieInfo__PJOMm\",\"img\":\"MovieDetails_img__3mlg7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__NFdMf\"};","import { NavLink } from 'react-router-dom'\r\nimport s from './AdditionalInfo.module.css'\r\n\r\nexport default function AdditionalInfo({ movieInfo, location }) {\r\n  return (\r\n    <>\r\n      <ul>\r\n        <li key=\"add-1\">\r\n          <NavLink\r\n            to={{\r\n              pathname: `/movies/${movieInfo.id}/cast`,\r\n              state: { from: { location } },\r\n            }}\r\n            className={s.link}\r\n            activeClassName={s.activeLink}\r\n          >\r\n            Cast\r\n          </NavLink>\r\n        </li>\r\n\r\n        <li key=\"add-2\">\r\n          <NavLink\r\n            to={{\r\n              pathname: `/movies/${movieInfo.id}/reviews`,\r\n              state: { from: { location } },\r\n            }}\r\n            className={s.link}\r\n            activeClassName={s.activeLink}\r\n          >\r\n            Reviews\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n","import poster_default from '../../images/poster_default.jpg'\r\nimport AdditionalInfo from '../AdditionalInfo/AdditionalInfo'\r\nimport s from './MovieDetails.module.css'\r\n\r\nexport default function MovieDetails({ movieInfo, location }) {\r\n  const API_path = 'https://image.tmdb.org/t/p/w500/'\r\n  const poster = movieInfo\r\n    ? `${API_path}${movieInfo.poster_path}`\r\n    : poster_default\r\n\r\n  return (\r\n    <>\r\n      <div className={s.movieDetails}>\r\n        <img src={poster} alt=\"poster\" className={s.img} width=\"250\" />\r\n        <div className={s.movieInfo}>\r\n          <h2>\r\n            {movieInfo.original_title} ({movieInfo.release_date.slice(0, 4)})\r\n          </h2>\r\n          <p>User Score: {movieInfo.popularity.toFixed(0)}%</p>\r\n          <h3>Owerview</h3>\r\n          <p>{movieInfo.overview}</p>\r\n          <h3>Genres</h3>\r\n          <ul>\r\n            {movieInfo.genres.map((genre) => (\r\n              <li key={genre.id}>{genre.name}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <h3>Additional information</h3>\r\n      <AdditionalInfo movieInfo={movieInfo} location={location} />\r\n      <hr />\r\n    </>\r\n  )\r\n}\r\n","import PropTypes from 'prop-types'\r\nimport s from './Button.module.css'\r\n\r\nexport default function Button({ location, onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      {location?.state?.from?.label ?? 'Go back'}\r\n    </button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n}\r\n","import { useState, useEffect, lazy, Suspense } from 'react'\r\nimport { useHistory, useLocation, useParams } from 'react-router'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport * as movieShelfAPI from '../services/themoviedb-api'\r\nimport MovieDetails from '../components/MovieDetails/MovieDetails'\r\nimport Button from '../components/Button/Button'\r\nimport Loader from '../components/Loader/Loader'\r\nimport { notifyError } from '../components/notify'\r\n\r\nconst Cast = lazy(() => import('../components/Cast/Cast'))\r\nconst Reviews = lazy(() => import('../components/Reviews/Reviews'))\r\n\r\nexport default function MoviesDetailsPage() {\r\n  const { url, path } = useRouteMatch()\r\n  const [movieInfo, setMovieInfo] = useState(null)\r\n  const [cast, setCast] = useState(null)\r\n  const [reviews, setReviews] = useState(null)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const params = useParams()\r\n\r\n  useEffect(() => {\r\n    if (!params) return\r\n    movieShelfAPI\r\n      .fetchMovieById(params.movieId)\r\n      .then(setMovieInfo)\r\n      .catch((err) => notifyError(err.massage))\r\n  }, [params])\r\n\r\n  useEffect(() => {\r\n    if (!movieInfo) return\r\n    movieShelfAPI\r\n      .fetchMovieByActors(movieInfo.id)\r\n      .then(setCast)\r\n      .catch((err) => notifyError(err.massage))\r\n  }, [movieInfo])\r\n\r\n  useEffect(() => {\r\n    if (!movieInfo) return\r\n    movieShelfAPI\r\n      .fetchMovieByReviews(movieInfo.id)\r\n      .then(setReviews)\r\n      .catch((err) => notifyError(err.massage))\r\n  }, [movieInfo])\r\n\r\n  const handleClick = () => history.push(location?.state?.from?.location ?? url)\r\n\r\n  return (\r\n    <>\r\n      <Button location={location} onClick={handleClick} />\r\n\r\n      {movieInfo && <MovieDetails movieInfo={movieInfo} location={location} />}\r\n\r\n      <Suspense fallback={<Loader />}>\r\n        <Switch>\r\n          <Route exact path={`${path}/cast`}>\r\n            {cast && <Cast cast={cast} />}\r\n          </Route>\r\n\r\n          <Route exact path={`${path}/reviews`}>\r\n            {reviews && <Reviews reviews={reviews} />}\r\n          </Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  )\r\n}\r\n","import {\r\n  alert,\r\n  error,\r\n  info,\r\n  defaultModules,\r\n  success,\r\n  defaults,\r\n} from '../../node_modules/@pnotify/core/dist/PNotify.js'\r\nimport '@pnotify/core/dist/PNotify.css'\r\nimport '@pnotify/core/Angeler.css'\r\nimport '@pnotify/core/Material.css'\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css'\r\nimport * as PNotifyMobile from '@pnotify/mobile'\r\n\r\ndefaults.styling = 'angeler'\r\ndefaults.icons = 'angeler'\r\ndefaults.delay = 800\r\ndefaults.sticker = false\r\ndefaults.animateSpeed = 'slow'\r\ndefaults.shadow = false\r\n\r\nexport function notifyAlert(txt) {\r\n  alert({\r\n    text: txt,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyError(txt) {\r\n  error({\r\n    text: txt,\r\n    delay: 4000,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyInfo(txt) {\r\n  info({\r\n    text: txt,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifySuccess(txt) {\r\n  success({\r\n    text: txt,\r\n    delay: 1200,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\n","import axios from 'axios'\r\nimport { notifyError } from '../components/notify'\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/'\r\nconst API_KEY = 'de7bae5f5f0124b91214e980e542706d'\r\n\r\nconst END_POINTS = {\r\n  GET_TRENDING: `${BASE_URL}trending/movie/day`, // список самых популярных фильмов на сегодня для создания коллекции на главной странице.\r\n  SEARCH_MOVIES: `${BASE_URL}search/movie`, // поиск кинофильма по ключевому слову на странице фильмов.\r\n  GET_MOVIE_DETAILS: `${BASE_URL}movie`, // запрос полной информации о фильме для страницы кинофильма.',\r\n  //   GET_MOVIE_CREDITS: `${BASE_URL}movies/get-movie-credits`, //запрос информации о актёрском составе для страницы кинофильма.',\r\n  //   GET_MOVIE_REVIEWS: `${BASE_URL}movies/get-movie-reviews`, //запрос обзоров для страницы кинофильма.',\r\n}\r\n\r\nasync function fetchWithErrorHandling(url = '', config = {}) {\r\n  try {\r\n    const result = await axios.get(url, config)\r\n    // console.log('result.data :>> ', await result.data)\r\n    return await result.data\r\n  } catch (err) {\r\n    return notifyError(err.message)\r\n  }\r\n  //   return response.ok\r\n  //     ? await response.json()\r\n  //     : Promise.reject(new Error('Not found'))\r\n}\r\n\r\nexport function fetchMovies() {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_TRENDING}?api_key=${API_KEY}`,\r\n  ).then((data) => data.results)\r\n}\r\n\r\nexport function fetchMoviesByQuery(query) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.SEARCH_MOVIES}?api_key=${API_KEY}&query=${query}`,\r\n  ).then((data) => data.results)\r\n}\r\n\r\nexport function fetchMovieById(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}?api_key=${API_KEY}`,\r\n  )\r\n}\r\n\r\nexport function fetchMovieByActors(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}/credits?api_key=${API_KEY}`,\r\n  )\r\n}\r\n\r\nexport function fetchMovieByReviews(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}/reviews?api_key=${API_KEY}`,\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/poster_default.4e1e8c8c.jpg\";"],"sourceRoot":""}