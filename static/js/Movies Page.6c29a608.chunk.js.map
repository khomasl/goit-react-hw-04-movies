{"version":3,"sources":["components/Searchbar/Searchbar.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Searchbar/Searchbar.js","pages/MoviesPage.js","components/notify.js","services/themoviedb-api.js","components/MoviesList/MoviesList.js"],"names":["module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","getSearchValue","useState","searchValue","setSearchValue","handleChange","useCallback","e","handleSubmit","preventDefault","className","s","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","MoviesPage","movies","setMovies","location","useLocation","history","useHistory","searchParam","URLSearchParams","search","get","useEffect","movieShelfAPI","then","catch","err","notifyError","massage","MoviesList","label","txt","error","text","delay","modules","Map","defaultModules","PNotifyMobile","swipeDismiss","defaults","styling","icons","sticker","animateSpeed","shadow","BASE_URL","API_KEY","END_POINTS","GET_TRENDING","SEARCH_MOVIES","GET_MOVIE_DETAILS","fetchWithErrorHandling","a","url","config","axios","result","data","message","fetchMovies","results","fetchMoviesByQuery","query","fetchMovieById","movieId","fetchMovieByActors","fetchMovieByReviews","map","movie","to","pathname","id","state","from","title"],"mappings":"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","file":"static/js/Movies Page.6c29a608.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2nbZQ\",\"SearchForm\":\"Searchbar_SearchForm__3GDpK\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1pEXx\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1NRIy\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3rGJQ\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import PropTypes from 'prop-types'\r\nimport { useState, useCallback } from 'react'\r\nimport s from './Searchbar.module.css'\r\n\r\nexport default function Searchbar({ getSearchValue }) {\r\n  const [searchValue, setSearchValue] = useState('')\r\n\r\n  const handleChange = useCallback((e) => setSearchValue(e.target.value), [])\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      getSearchValue(searchValue)\r\n      setSearchValue('')\r\n    },\r\n    [searchValue],\r\n  )\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          name=\"searchValue\"\r\n          value={searchValue}\r\n          onChange={handleChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search movies\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  getSearchValues: PropTypes.func,\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport * as movieShelfAPI from '../services/themoviedb-api'\r\nimport Searchbar from '../components/Searchbar/Searchbar'\r\nimport MoviesList from '../components/MoviesList/MoviesList'\r\nimport { notifyError } from '../components/notify'\r\n\r\nexport default function MoviesPage() {\r\n  const [movies, setMovies] = useState(null)\r\n  //const [searchValue, setSearchValue] = useState('')\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const searchParam = new URLSearchParams(location.search).get('query') ?? ''\r\n\r\n  const handleHistoryPush = (searchValue) => {\r\n    if (searchValue === '') return\r\n    history.push({\r\n      ...location,\r\n      search: `query=${searchValue}`,\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (searchParam === '') return\r\n\r\n    movieShelfAPI\r\n      .fetchMoviesByQuery(searchParam)\r\n      .then(setMovies)\r\n      .catch((err) => notifyError(err.massage))\r\n  }, [searchParam])\r\n\r\n  return (\r\n    <>\r\n      <Searchbar getSearchValue={handleHistoryPush} />\r\n\r\n      {movies && (\r\n        <MoviesList\r\n          movies={movies}\r\n          location={location}\r\n          label=\"Go back to Movies\"\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import {\r\n  alert,\r\n  error,\r\n  info,\r\n  defaultModules,\r\n  success,\r\n  defaults,\r\n} from '../../node_modules/@pnotify/core/dist/PNotify.js'\r\nimport '@pnotify/core/dist/PNotify.css'\r\nimport '@pnotify/core/Angeler.css'\r\nimport '@pnotify/core/Material.css'\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css'\r\nimport * as PNotifyMobile from '@pnotify/mobile'\r\n\r\ndefaults.styling = 'angeler'\r\ndefaults.icons = 'angeler'\r\ndefaults.delay = 800\r\ndefaults.sticker = false\r\ndefaults.animateSpeed = 'slow'\r\ndefaults.shadow = false\r\n\r\nexport function notifyAlert(txt) {\r\n  alert({\r\n    text: txt,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyError(txt) {\r\n  error({\r\n    text: txt,\r\n    delay: 4000,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifyInfo(txt) {\r\n  info({\r\n    text: txt,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\nexport function notifySuccess(txt) {\r\n  success({\r\n    text: txt,\r\n    delay: 1200,\r\n    modules: new Map([\r\n      ...defaultModules,\r\n      [\r\n        PNotifyMobile,\r\n        {\r\n          swipeDismiss: true,\r\n        },\r\n      ],\r\n    ]),\r\n  })\r\n}\r\n","import axios from 'axios'\r\nimport { notifyError } from '../components/notify'\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/'\r\nconst API_KEY = 'de7bae5f5f0124b91214e980e542706d'\r\n\r\nconst END_POINTS = {\r\n  GET_TRENDING: `${BASE_URL}trending/movie/day`, // список самых популярных фильмов на сегодня для создания коллекции на главной странице.\r\n  SEARCH_MOVIES: `${BASE_URL}search/movie`, // поиск кинофильма по ключевому слову на странице фильмов.\r\n  GET_MOVIE_DETAILS: `${BASE_URL}movie`, // запрос полной информации о фильме для страницы кинофильма.',\r\n  //   GET_MOVIE_CREDITS: `${BASE_URL}movies/get-movie-credits`, //запрос информации о актёрском составе для страницы кинофильма.',\r\n  //   GET_MOVIE_REVIEWS: `${BASE_URL}movies/get-movie-reviews`, //запрос обзоров для страницы кинофильма.',\r\n}\r\n\r\nasync function fetchWithErrorHandling(url = '', config = {}) {\r\n  try {\r\n    const result = await axios.get(url, config)\r\n    // console.log('result.data :>> ', await result.data)\r\n    return await result.data\r\n  } catch (err) {\r\n    return notifyError(err.message)\r\n  }\r\n  //   return response.ok\r\n  //     ? await response.json()\r\n  //     : Promise.reject(new Error('Not found'))\r\n}\r\n\r\nexport function fetchMovies() {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_TRENDING}?api_key=${API_KEY}`,\r\n  ).then((data) => data.results)\r\n}\r\n\r\nexport function fetchMoviesByQuery(query) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.SEARCH_MOVIES}?api_key=${API_KEY}&query=${query}`,\r\n  ).then((data) => data.results)\r\n}\r\n\r\nexport function fetchMovieById(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}?api_key=${API_KEY}`,\r\n  )\r\n}\r\n\r\nexport function fetchMovieByActors(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}/credits?api_key=${API_KEY}`,\r\n  )\r\n}\r\n\r\nexport function fetchMovieByReviews(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${END_POINTS.GET_MOVIE_DETAILS}/${movieId}/reviews?api_key=${API_KEY}`,\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\r\n\r\nexport default function MoviesList({ movies, location, label }) {\r\n  return (\r\n    <ul>\r\n      {movies.map((movie) => (\r\n        <li key={movie.id}>\r\n          <Link\r\n            to={{\r\n              pathname: `/movies/${movie.id}`,\r\n              state: {\r\n                from: { location, label },\r\n              },\r\n            }}\r\n          >\r\n            {movie.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n"],"sourceRoot":""}